(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,r)=>{var n=r(5112),i=r(30),o=r(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},5787:t=>{t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},9670:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},1318:(t,e,r)=>{var n=r(5656),i=r(7466),o=r(1400),a=function(t){return function(e,r,a){var s,c=n(e),u=i(c.length),l=o(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},7072:(t,e,r)=>{var n=r(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,r)=>{var n=r(1694),i=r(4326),o=r(5112)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},4092:(t,e,r)=>{"use strict";var n=r(9670),i=r(3099);t.exports=function(){for(var t,e=n(this),r=i(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=r.call(e,arguments[a]),o=o&&t;return!!o}},9920:(t,e,r)=>{var n=r(6656),i=r(3887),o=r(1236),a=r(3070);t.exports=function(t,e){for(var r=i(e),s=a.f,c=o.f,u=0;u<r.length;u++){var l=r[u];n(t,l)||s(t,l,c(e,l))}}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,i=r(30),o=r(9114),a=r(8003),s=r(7497),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),a(t,u,!1,!0),s[u]=c,t}},8880:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},654:(t,e,r)=>{"use strict";var n=r(2109),i=r(4994),o=r(9518),a=r(7674),s=r(8003),c=r(8880),u=r(1320),l=r(5112),h=r(1913),f=r(7497),d=r(3383),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g="keys",y="values",x="entries",w=function(){return this};t.exports=function(t,e,r,l,d,E,S){i(r,e,l);var b,T,I,L=function(t){if(t===d&&j)return j;if(!v&&t in O)return O[t];switch(t){case g:case y:case x:return function(){return new r(this,t)}}return function(){return new r(this)}},_=e+" Iterator",A=!1,O=t.prototype,R=O[m]||O["@@iterator"]||d&&O[d],j=!v&&R||L(d),C="Array"==e&&O.entries||R;if(C&&(b=o(C.call(new t)),p!==Object.prototype&&b.next&&(h||o(b)===p||(a?a(b,p):"function"!=typeof b[m]&&c(b,m,w)),s(b,_,!0,!0),h&&(f[_]=w))),d==y&&R&&R.name!==y&&(A=!0,j=function(){return R.call(this)}),h&&!S||O[m]===j||c(O,m,j),f[e]=j,d)if(T={values:L(y),keys:E?j:L(g),entries:L(x)},S)for(I in T)(v||A||!(I in O))&&u(O,I,T[I]);else n({target:e,proto:!0,forced:v||A},T);return T}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),i=r(111),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:t=>{t.exports="object"==typeof window},6833:(t,e,r)=>{var n=r(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},5268:(t,e,r)=>{var n=r(4326),i=r(7854);t.exports="process"==n(i.process)},1036:(t,e,r)=>{var n=r(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,i,o=r(7854),a=r(8113),s=o.process,c=s&&s.versions,u=c&&c.v8;u?i=(n=u.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),a=r(1320),s=r(3505),c=r(9920),u=r(4705);t.exports=function(t,e){var r,l,h,f,d,p=t.target,v=t.global,m=t.stat;if(r=v?n:m?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in e){if(f=e[l],h=t.noTargetGet?(d=i(r,l))&&d.value:r[l],!u(v?l:p+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(r,l,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:(t,e,r)=>{var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,r)=>{var n=r(857),i=r(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},1246:(t,e,r)=>{var n=r(648),i=r(7497),o=r(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},8554:(t,e,r)=>{var n=r(9670),i=r(1246);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},4647:(t,e,r)=>{var n=r(1913),i=r(8554);t.exports=n?i:function(t){return Map.prototype.entries.call(t)}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:(t,e,r)=>{var n=r(7908),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(n(t),e)}},3501:t=>{t.exports={}},842:(t,e,r)=>{var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),i=r(7293),o=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,r)=>{var n=r(7293),i=r(4326),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},2788:(t,e,r)=>{var n=r(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},9909:(t,e,r)=>{var n,i,o,a=r(8536),s=r(7854),c=r(111),u=r(8880),l=r(6656),h=r(5465),f=r(6200),d=r(3501),p="Object already initialized",v=s.WeakMap;if(a||h.state){var m=h.state||(h.state=new v),g=m.get,y=m.has,x=m.set;n=function(t,e){if(y.call(m,t))throw new TypeError(p);return e.facade=t,x.call(m,t,e),e},i=function(t){return g.call(m,t)||{}},o=function(t){return y.call(m,t)}}else{var w=f("state");d[w]=!0,n=function(t,e){if(l(t,w))throw new TypeError(p);return e.facade=t,u(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),i=r(7497),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},4705:(t,e,r)=>{var n=r(7293),i=/#|\.prototype\./,o=function(t,e){var r=s[a(t)];return r==u||r!=c&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},408:(t,e,r)=>{var n=r(9670),i=r(7659),o=r(7466),a=r(9974),s=r(1246),c=r(9212),u=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var l,h,f,d,p,v,m,g=r&&r.that,y=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),w=!(!r||!r.INTERRUPTED),E=a(e,g,1+y+w),S=function(t){return l&&c(l),new u(!0,t)},b=function(t){return y?(n(t),w?E(t[0],t[1],S):E(t[0],t[1])):w?E(t,S):E(t)};if(x)l=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,d=o(t.length);d>f;f++)if((p=b(t[f]))&&p instanceof u)return p;return new u(!1)}l=h.call(t)}for(v=l.next;!(m=v.call(l)).done;){try{p=b(m.value)}catch(t){throw c(l),t}if("object"==typeof p&&p&&p instanceof u)return p}return new u(!1)}},9212:(t,e,r)=>{var n=r(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},3383:(t,e,r)=>{"use strict";var n,i,o,a=r(7293),s=r(9518),c=r(8880),u=r(6656),l=r(5112),h=r(1913),f=l("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(n=i):d=!0);var p=null==n||a((function(){var t={};return n[f].call(t)!==t}));p&&(n={}),h&&!p||u(n,f)||c(n,f,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},5948:(t,e,r)=>{var n,i,o,a,s,c,u,l,h=r(7854),f=r(1236).f,d=r(261).set,p=r(6833),v=r(1036),m=r(5268),g=h.MutationObserver||h.WebKitMutationObserver,y=h.document,x=h.process,w=h.Promise,E=f(h,"queueMicrotask"),S=E&&E.value;S||(n=function(){var t,e;for(m&&(t=x.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},p||m||v||!g||!y?w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,a=function(){l.call(u,n)}):a=m?function(){x.nextTick(n)}:function(){d.call(h,n)}:(s=!0,c=y.createTextNode(""),new g(n).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=S||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},3366:(t,e,r)=>{var n=r(7854);t.exports=n.Promise},133:(t,e,r)=>{var n=r(7392),i=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),i=r(2788),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},8523:(t,e,r)=>{"use strict";var n=r(3099),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},30:(t,e,r)=>{var n,i=r(9670),o=r(6048),a=r(748),s=r(3501),c=r(490),u=r(317),l=r(6200)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},d=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=n?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[l]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(h.prototype=i(t),r=new h,h.prototype=null,r[l]=t):r=d(),void 0===e?r:o(r,e)}},6048:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9670),a=r(1956);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=a(e),s=n.length,c=0;s>c;)i.f(t,r=n[c++],e[r]);return t}},3070:(t,e,r)=>{var n=r(9781),i=r(4664),o=r(9670),a=r(7593),s=Object.defineProperty;e.f=n?s:function(t,e,r){if(o(t),e=a(e,!0),o(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),i=r(5296),o=r(9114),a=r(5656),s=r(7593),c=r(6656),u=r(4664),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return o(!i.f.call(t,e),t[e])}},8006:(t,e,r)=>{var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(6656),i=r(7908),o=r(6200),a=r(8544),s=o("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:(t,e,r)=>{var n=r(6656),i=r(5656),o=r(1318).indexOf,a=r(3501);t.exports=function(t,e){var r,s=i(t),c=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~o(u,r)||u.push(r));return u}},1956:(t,e,r)=>{var n=r(6324),i=r(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},3887:(t,e,r)=>{var n=r(5005),i=r(8006),o=r(5181),a=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(a(t)),r=o.f;return r?e.concat(r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,r)=>{var n=r(9670),i=r(111),o=r(8523);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},2248:(t,e,r)=>{var n=r(1320);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},1320:(t,e,r)=>{var n=r(7854),i=r(8880),o=r(6656),a=r(3505),s=r(2788),c=r(9909),u=c.get,l=c.enforce,h=String(String).split("String");(t.exports=function(t,e,r,s){var c,u=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),(c=l(r)).source||(c.source=h.join("string"==typeof e?e:""))),t!==n?(u?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=r:i(t,e,r)):f?t[e]=r:a(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},6465:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3505:(t,e,r)=>{var n=r(7854),i=r(8880);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},6340:(t,e,r)=>{"use strict";var n=r(5005),i=r(3070),o=r(5112),a=r(9781),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},8003:(t,e,r)=>{var n=r(3070).f,i=r(6656),o=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),i=r(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,r)=>{var n=r(7854),i=r(3505),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},2309:(t,e,r)=>{var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.14.0",mode:n?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,r)=>{var n=r(9670),i=r(3099),o=r(5112)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},261:(t,e,r)=>{var n,i,o,a=r(7854),s=r(7293),c=r(9974),u=r(490),l=r(317),h=r(6833),f=r(5268),d=a.location,p=a.setImmediate,v=a.clearImmediate,m=a.process,g=a.MessageChannel,y=a.Dispatch,x=0,w={},E=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},S=function(t){return function(){E(t)}},b=function(t){E(t.data)},T=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return w[++x]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(x),x},v=function(t){delete w[t]},f?n=function(t){m.nextTick(S(t))}:y&&y.now?n=function(t){y.now(S(t))}:g&&!h?(o=(i=new g).port2,i.port1.onmessage=b,n=c(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(T)?(n=T,a.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),E(t)}}:function(t){setTimeout(S(t),0)}),t.exports={set:p,clear:v}},1400:(t,e,r)=>{var n=r(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},5656:(t,e,r)=>{var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9958:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:(t,e,r)=>{var n=r(9958),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488);t.exports=function(t){return Object(n(t))}},7593:(t,e,r)=>{var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9711:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,r)=>{var n=r(7854),i=r(2309),o=r(6656),a=r(9711),s=r(133),c=r(3307),u=i("wks"),l=n.Symbol,h=c?l:l&&l.withoutSetter||a;t.exports=function(t){return o(u,t)&&(s||"string"==typeof u[t])||(s&&o(l,t)?u[t]=l[t]:u[t]=h("Symbol."+t)),u[t]}},6992:(t,e,r)=>{"use strict";var n=r(5656),i=r(1223),o=r(7497),a=r(9909),s=r(654),c="Array Iterator",u=a.set,l=a.getterFor(c);t.exports=s(Array,"Array",(function(t,e){u(this,{type:c,target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},8674:(t,e,r)=>{"use strict";var n,i,o,a,s=r(2109),c=r(1913),u=r(7854),l=r(5005),h=r(3366),f=r(1320),d=r(2248),p=r(7674),v=r(8003),m=r(6340),g=r(111),y=r(3099),x=r(5787),w=r(2788),E=r(408),S=r(7072),b=r(6707),T=r(261).set,I=r(5948),L=r(9478),_=r(842),A=r(8523),O=r(2534),R=r(9909),j=r(4705),C=r(5112),P=r(7871),M=r(5268),F=r(7392),N=C("species"),W="Promise",z=R.get,k=R.set,D=R.getterFor(W),H=h&&h.prototype,$=h,q=H,B=u.TypeError,U=u.document,X=u.process,Y=A.f,V=Y,G=!!(U&&U.createEvent&&u.dispatchEvent),K="function"==typeof PromiseRejectionEvent,J="unhandledrejection",Q=!1,Z=j(W,(function(){var t=w($)!==String($);if(!t&&66===F)return!0;if(c&&!q.finally)return!0;if(F>=51&&/native code/.test($))return!1;var e=new $((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(e.constructor={})[N]=r,!(Q=e.then((function(){}))instanceof r)||!t&&P&&!K})),tt=Z||!S((function(t){$.all(t).catch((function(){}))})),et=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;I((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var a,s,c,u=r[o++],l=i?u.ok:u.fail,h=u.resolve,f=u.reject,d=u.domain;try{l?(i||(2===t.rejection&&at(t),t.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),c=!0)),a===u.promise?f(B("Promise-chain cycle")):(s=et(a))?s.call(a,h,f):h(a)):f(n)}catch(t){d&&!c&&d.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},nt=function(t,e,r){var n,i;G?((n=U.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!K&&(i=u["on"+t])?i(n):t===J&&_("Unhandled promise rejection",r)},it=function(t){T.call(u,(function(){var e,r=t.facade,n=t.value;if(ot(t)&&(e=O((function(){M?X.emit("unhandledRejection",n,r):nt(J,r,n)})),t.rejection=M||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){T.call(u,(function(){var e=t.facade;M?X.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)}))},st=function(t,e,r){return function(n){t(e,n,r)}},ct=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,rt(t,!0))},ut=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw B("Promise can't be resolved itself");var n=et(e);n?I((function(){var r={done:!1};try{n.call(e,st(ut,r,t),st(ct,r,t))}catch(e){ct(r,e,t)}})):(t.value=e,t.state=1,rt(t,!1))}catch(e){ct({done:!1},e,t)}}};if(Z&&(q=($=function(t){x(this,$,W),y(t),n.call(this);var e=z(this);try{t(st(ut,e),st(ct,e))}catch(t){ct(e,t)}}).prototype,(n=function(t){k(this,{type:W,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(q,{then:function(t,e){var r=D(this),n=Y(b(this,$));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?X.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&rt(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=z(t);this.promise=t,this.resolve=st(ut,e),this.reject=st(ct,e)},A.f=Y=function(t){return t===$||t===o?new i(t):V(t)},!c&&"function"==typeof h&&H!==Object.prototype)){a=H.then,Q||(f(H,"then",(function(t,e){var r=this;return new $((function(t,e){a.call(r,t,e)})).then(t,e)}),{unsafe:!0}),f(H,"catch",q.catch,{unsafe:!0}));try{delete H.constructor}catch(t){}p&&p(H,q)}s({global:!0,wrap:!0,forced:Z},{Promise:$}),v($,W,!1,!0),m(W),o=l(W),s({target:W,stat:!0,forced:Z},{reject:function(t){var e=Y(this);return e.reject.call(void 0,t),e.promise}}),s({target:W,stat:!0,forced:c||Z},{resolve:function(t){return L(c&&this===o?$:this,t)}}),s({target:W,stat:!0,forced:tt},{all:function(t){var e=this,r=Y(e),n=r.resolve,i=r.reject,o=O((function(){var r=y(e.resolve),o=[],a=0,s=1;E(t,(function(t){var c=a++,u=!1;o.push(void 0),s++,r.call(e,t).then((function(t){u||(u=!0,o[c]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=Y(e),n=r.reject,i=O((function(){var i=y(e.resolve);E(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},72:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(4092);n({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},9137:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(9974),s=r(4647),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return!c(r,(function(t,r,i){if(!n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1957:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(5005),a=r(9670),s=r(3099),c=r(9974),u=r(6707),l=r(4647),h=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),r=l(e),n=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),f=s(i.set);return h(r,(function(t,r){n(r,t,e)&&f.call(i,t,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},103:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(9974),s=r(4647),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return c(r,(function(t,r,i){if(n(r,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6306:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(9974),s=r(4647),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return c(r,(function(t,r,i){if(n(r,t,e))return i(r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},4592:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(4647),s=r(6465),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{includes:function(t){return c(a(o(this)),(function(e,r,n){if(s(r,t))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8276:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(4647),s=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,r,n){if(r===t)return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5082:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(5005),a=r(9670),s=r(3099),c=r(9974),u=r(6707),l=r(4647),h=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(t){var e=a(this),r=l(e),n=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),f=s(i.set);return h(r,(function(t,r){f.call(i,n(r,t,e),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},2813:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(5005),a=r(9670),s=r(3099),c=r(9974),u=r(6707),l=r(4647),h=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(t){var e=a(this),r=l(e),n=c(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),f=s(i.set);return h(r,(function(t,r){f.call(i,t,n(r,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},8222:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(3099),s=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=o(this),r=a(e.set),n=0;n<arguments.length;)s(arguments[n++],r,{that:e,AS_ENTRIES:!0});return e}})},8563:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(3099),s=r(4647),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),r=s(e),n=arguments.length<2,i=n?void 0:arguments[1];if(a(t),c(r,(function(r,o){n?(n=!1,i=o):i=t(i,o,r,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty map with no initial value");return i}})},336:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(9974),s=r(4647),c=r(408);n({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return c(r,(function(t,r,i){if(n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},7512:(t,e,r)=>{"use strict";var n=r(2109),i=r(1913),o=r(9670),a=r(3099);n({target:"Map",proto:!0,real:!0,forced:i},{update:function(t,e){var r=o(this),n=arguments.length;a(e);var i=r.has(t);if(!i&&n<3)throw TypeError("Updating absent value");var s=i?r.get(t):a(n>2?arguments[2]:void 0)(t,r);return r.set(t,e(s,t,r)),r}})},3948:(t,e,r)=>{var n=r(7854),i=r(8324),o=r(6992),a=r(8880),s=r(5112),c=s("iterator"),u=s("toStringTag"),l=o.values;for(var h in i){var f=n[h],d=f&&f.prototype;if(d){if(d[c]!==l)try{a(d,c,l)}catch(t){d[c]=l}if(d[u]||a(d,u,h),i[h])for(var p in o)if(d[p]!==o[p])try{a(d,p,o[p])}catch(t){d[p]=o[p]}}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";function t(t,e,r,n,i,o,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:u}}r.r(n),r.d(n,{b:()=>a,default:()=>o});const e=t({name:"meDragger",props:{options:{type:Array,required:!0},idField:{type:String,required:!0},type:{type:String,default:"up-down"}},data:()=>({position:[],dragId:null,moving:!1,animateTime:200}),created(){},computed:{},methods:{dragstart(t){this.dragId=t.currentTarget.dataset.id},dragend(){this.dragId=null,this.$forceUpdate()},dragover(t){t.preventDefault();let e=t.currentTarget.dataset.id;if(!this.moving&&e!==this.dragId){let r=Array.from(this.$refs.root.querySelectorAll(".me-dragger>*"));this.position=r.map((t=>({id:t.dataset.id,top:t.getBoundingClientRect().top,left:t.getBoundingClientRect().left})));let n,i=t.clientX,o=t.clientY,a=t.currentTarget.getBoundingClientRect().left,s=t.currentTarget.getBoundingClientRect().top,c=t.currentTarget.clientWidth,u=t.currentTarget.clientHeight;n="up-down"===this.type?o>=s+u/2?"down":"up":i>=a+c/2?"right":"left";let l=this.options.findIndex((t=>t[this.idField]===this.dragId)),h=this.options[l],f=this.options.filter((t=>t[this.idField]!==this.dragId)),d=f.findIndex((t=>t[this.idField]===e));if("right"!==n&&"down"!==n||d++,l===d)return;this.moving=!0,f.splice(d,0,h),this.$emit("update:options",f),this.$nextTick((()=>{let t=Array.from(this.$refs.root.querySelectorAll(".me-dragger>*"));t.forEach((t=>{if(t.dataset.id===this.dragId)return;let e=t.getBoundingClientRect().top,r=t.getBoundingClientRect().left,n=this.position.find((e=>t.dataset.id===e.id));n&&(t.style.transform="translate(".concat(n.left-r,"px,").concat(n.top-e,"px)"))})),setTimeout((()=>{t.forEach((t=>{t.dataset.id!==this.dragId&&(t.style.transform="translate(0px,0px)",t.style.transition="transform ".concat(this.animateTime/1e3,"s"))}))}),0),setTimeout((()=>{t.forEach((t=>{t.dataset.id!==this.dragId&&(t.style.transform="",t.style.transition="")})),this.moving=!1}),this.animateTime)}))}},dealDom(){let t=Array.from(this.$refs.root.querySelectorAll(".me-dragger>*"));t.length&&t.forEach(((t,e)=>{t.draggable=!0,t.dataset.id=this.options[e][this.idField],t.style.opacity=t.dataset.id===this.dragId?.4:1,t.style.zIndex=t.dataset.id!==this.dragId?10:"auto",t.addEventListener("dragstart",this.dragstart),t.addEventListener("dragend",this.dragend),t.addEventListener("dragover",this.dragover)}))}},mounted(){this.dealDom()},updated(){this.dealDom()}},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"root",staticClass:"me-dragger"},[t._t("default")],2)}),[],!1,null,null,null).exports;r(8674),r(3948),r(72),r(9137),r(1957),r(6306),r(103),r(4592),r(8276),r(5082),r(2813),r(8222),r(8563),r(336),r(7512);const i=[e,t({name:"me-image-crop",props:{imageSrc:{type:String,required:!0},showBtn:{type:Boolean,default:!0},outType:{type:String,default:"base64"}},data:()=>({browser:"",wt:null,canvas:null,ctx:null,canvasWidth:0,canvasHeight:0,cropFrameSize:0,buttonTop:0,buttonRight:0,buttonSize:30,waitingAni:{size:5,colors:["#e2e2e2","#a2a2a2","#a2a2a2"],timer:0,start:!1},img:null,imgNaturalWidth:0,imgNaturalHeight:0,scale:1,scaleRate:0,position:{x:0,y:0},rotateAngle:0,AnimationFrameId:""}),created(){this.wt=this.watchTouch(),this.wt.watch();try{window.addEventListener("touchmove",this.forbidPageScale,{passive:!1})}catch(t){window.addEventListener("touchmove",this.forbidPageScale)}if(this.is_pc()){let t="",e=window.navigator.userAgent.toLowerCase();e.indexOf("trident/7.0")>-1?t="ie":e.indexOf("opera")>-1?t="opera":e.indexOf("safari")>-1&&-1===e.indexOf("chrome")?t="safari":e.indexOf("chrome")>-1?t="chrome":e.indexOf("firefox")>-1&&(t="firefox"),this.browser=t}this.$nextTick((()=>{Promise.all([this.initCanvas(),this.imgLoad()]).then((()=>{this.scaleImg(),this.translateImg(),this.rotateImg()})),this.AnimationFrameId=window.requestAnimationFrame(this.draw)}))},watch:{showBtn(t,e){t&&this.$nextTick(this.rotateImg_pc)}},methods:{forbidPageScale(t){(t=t||window.event).preventDefault()},is_pc(){let t=["android","iphone","symbianOS","windows phone","ipad","ipod"],e=window.navigator.userAgent.toLowerCase(),r=!0;for(let n=0;n<t.length;n++)e.indexOf(t[n])>=0&&(r=!1);return r},watchTouch(){let t=new Map;const e=e=>{t.set(e.changedTouches[0].identifier,e.changedTouches[0])},r=e=>{Array.from(e.touches).map((e=>{t.has(e.identifier)&&t.set(e.identifier,e)}))},n=e=>{t.delete(e.changedTouches[0].identifier)},i=e=>{t.clear()};return{watch(){window.addEventListener("touchstart",e,!0),window.addEventListener("touchmove",r,!0),window.addEventListener("touchend",n,!0),window.addEventListener("touchcancel",i,!0)},dispose(){window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",i)},touchMap:t}},initCanvas(){let t=window.getComputedStyle(this.$refs.meImageCrop,null).getPropertyValue("height"),e=window.getComputedStyle(this.$refs.meImageCrop,null).getPropertyValue("width");return this.canvasHeight=parseInt(t),this.canvasWidth=parseInt(e),this.canvas=this.$refs.meImageCrop.querySelector(".me-image-crop-canvas"),this.canvas.height=this.canvasHeight,this.canvas.width=this.canvasWidth,this.ctx=this.canvas.getContext("2d"),this.cropFrameSize=this.canvasWidth<this.canvasHeight?.7*this.canvasWidth:.7*this.canvasHeight,this.buttonTop=this.canvasHeight/30>30?30:this.canvasHeight/30<20?20:this.canvasHeight/30,this.buttonRight=((this.canvasWidth-this.cropFrameSize)/2-this.buttonSize)/2,this.buttonRight=this.buttonRight>30?30:this.buttonRight<10?10:this.buttonRight,this.position.x=this.canvasWidth/2,this.position.y=this.canvasHeight/2,Promise.resolve()},imgLoad(){return new Promise(((t,e)=>{this.img=document.createElement("img"),this.img.src=this.imageSrc,this.img.onload=()=>{this.imgNaturalWidth=this.img.naturalWidth,this.imgNaturalHeight=this.img.naturalHeight;let e=this.canvasWidth/this.imgNaturalWidth,r=this.canvasHeight/this.imgNaturalHeight;this.scale=e<r?e:r,t()}}))},drawCropFrame(){let t=[{x:0,y:0},{x:this.canvasWidth,y:0},{x:this.canvasWidth,y:this.canvasHeight},{x:0,y:this.canvasHeight}],e=[{x:parseInt(this.canvasWidth/2-this.cropFrameSize/2)+.5,y:parseInt(this.canvasHeight/2-this.cropFrameSize/2)+.5},{x:parseInt(this.canvasWidth/2+this.cropFrameSize/2)+.5,y:parseInt(this.canvasHeight/2-this.cropFrameSize/2)+.5},{x:parseInt(this.canvasWidth/2+this.cropFrameSize/2)+.5,y:parseInt(this.canvasHeight/2+this.cropFrameSize/2)+.5},{x:parseInt(this.canvasWidth/2-this.cropFrameSize/2)+.5,y:parseInt(this.canvasHeight/2+this.cropFrameSize/2)+.5}];this.ctx.save(),this.ctx.fillStyle="rgba(0,0,0,0.35)",this.ctx.beginPath(),this.ctx.moveTo(t[0].x,t[0].y),this.ctx.lineTo(e[0].x,e[0].y),this.ctx.lineTo(e[1].x,e[1].y),this.ctx.lineTo(e[2].x,e[2].y),this.ctx.lineTo(e[3].x,e[3].y),this.ctx.lineTo(e[0].x,e[0].y),this.ctx.lineTo(t[0].x,t[0].y),this.ctx.lineTo(t[3].x,t[3].y),this.ctx.lineTo(t[2].x,t[2].y),this.ctx.lineTo(t[1].x,t[1].y),this.ctx.fill(),this.ctx.restore(),this.ctx.save(),this.ctx.strokeStyle="#fff",this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y),this.ctx.lineTo(e[1].x,e[1].y),this.ctx.lineTo(e[2].x,e[2].y),this.ctx.lineTo(e[3].x,e[3].y),this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},scaleImg(){let t,e,r,n,i=!1;const o=o=>{if(!i)if(o=o||window.event,this.is_pc())i=!0;else{let o=[];if([...this.wt.touchMap.values()].map((t=>{t.target===this.$refs.meImageCrop.querySelector(".me-image-crop-canvas")&&o.push(t)})),2===o.length&&!1===i){i=!0,n=this.scale,e=o[0].identifier,r=o[1].identifier;let a=o[0].clientX,s=o[0].clientY,c=o[1].clientX,u=o[1].clientY;t=Math.sqrt((a-c)*(a-c)+(s-u)*(s-u))}}},a=o=>{if(this.is_pc()){let t=document.querySelector(".me-image-crop-canvas");!t||!t.contains(o.target)&&t!==o.target||this.scaleStart||(i=!0)}if(i)if(o=o||window.event,this.is_pc()){let t="";t="firefox"===this.browser?o.detail<0?"up":"down":o.wheelDelta>0?"up":"down",this.scale="up"===t?1.1*this.scale:.9*this.scale}else{let i,a;for(let t=0;t<o.touches.length;t++)o.touches[t].identifier===e&&(i=o.touches[t]),o.touches[t].identifier===r&&(a=o.touches[t]);if(!i||!a)return;let s=i.clientX,c=i.clientY,u=a.clientX,l=a.clientY,h=Math.sqrt((s-u)*(s-u)+(c-l)*(c-l));this.scale=n*(h/t)}},s=o=>{if(i)if(o=o||window.event,this.is_pc())i=!1,t=void 0,e=void 0,r=void 0,n=void 0;else{let a,s;for(let t=0;t<o.touches.length;t++)o.touches[t].identifier===e&&(a=o.touches[t]),o.touches[t].identifier===r&&(s=o.touches[t]);"touchcancel"!==o.type&&a&&s||(i=!1,t=void 0,e=void 0,r=void 0,n=void 0)}};this.canvas.addEventListener("mouseover",o),window.addEventListener("DOMMouseScroll",a),window.addEventListener("mousewheel",a),this.canvas.addEventListener("mouseout",s),this.canvas.addEventListener("touchmove",o),this.canvas.addEventListener("touchmove",a),document.addEventListener("touchend",s),document.addEventListener("touchcancel",s),this._disposeScale=()=>{this.canvas.removeEventListener("mouseenter",o),window.removeEventListener("DOMMouseScroll",a),window.removeEventListener("mousewheel",a),this.canvas.removeEventListener("mouseleave",s),this.canvas.removeEventListener("touchmove",o),this.canvas.removeEventListener("touchmove",a),document.removeEventListener("touchend",s),document.removeEventListener("touchcancel",s)}},translateImg(){let t,e=!1,r={x:0,y:0},n={x:0,y:0};const i=i=>{if(!e)if(i=i||window.event,this.is_pc())e=!0,n.x=this.position.x,n.y=this.position.y,r.x=i.clientX,r.y=i.clientY;else{let i=[],o=[...this.wt.touchMap.values()];o.map((t=>{t.target===this.$refs.meImageCrop.querySelector(".me-image-crop-canvas")&&i.push(t)})),1===i.length&&1===o.length&&!1===e&&(e=!0,n.x=this.position.x,n.y=this.position.y,t=i[0].identifier,r.x=i[0].clientX,r.y=i[0].clientY)}},o=i=>{if(e)if(i=i||window.event,this.is_pc()){let t=i.clientX-r.x,e=i.clientY-r.y;this.position.x=n.x+t,this.position.y=n.y+e}else{let e;for(let r=0;r<i.touches.length;r++)i.touches[r].identifier===t&&(e=i.touches[r]);if(!e)return;let o=e.clientX-r.x,a=e.clientY-r.y;this.position.x=n.x+o,this.position.y=n.y+a}},a=i=>{e&&(e=!1,n.x=0,n.y=0,r.x=0,r.y=0,t=void 0)};this.canvas.addEventListener("mousemove",o),this.canvas.addEventListener("mousedown",i),document.addEventListener("mouseup",a),document.addEventListener("mousecancel",a),this.canvas.addEventListener("touchmove",i),this.canvas.addEventListener("touchmove",o),document.addEventListener("touchend",a),document.addEventListener("touchcancel",a),document.addEventListener("touchstart",a),this._disposeTranslate=()=>{this.canvas.removeEventListener("mousemove",o),this.canvas.removeEventListener("click",i),document.removeEventListener("mouseup",a),document.removeEventListener("mousecancel",a),this.canvas.removeEventListener("touchmove",i),this.canvas.removeEventListener("touchmove",o),document.removeEventListener("touchend",a),document.removeEventListener("touchcancel",a),document.removeEventListener("touchstart",a)}},rotateImg(){this.is_pc()&&this.showBtn?this.rotateImg_pc():this.rotateImg_mobile()},rotateImg_pc(){let t=this.$refs.meImageCrop.querySelector(".me-image-crop-btn-rotate");if(!t)return;let e=!0,r=!0;t.addEventListener("click",(()=>{r?this.rotateAngle++:this.rotateAngle--}));let n=function(t){if(!(t instanceof HTMLElement||t===window))return;let e,r,n={},i=0;function o(t){i=1,window.removeEventListener("click",o),window.removeEventListener("mouseup",o),window.removeEventListener("mousecancel",o),e&&clearTimeout(e)}function a(t){window.removeEventListener("click",a),window.removeEventListener("mouseup",a),window.removeEventListener("mousecancel",a),r&&clearInterval(r),n.longtabover&&n.longtabover.map((t=>{t()}))}return t.addEventListener("mousedown",(()=>{i=0,window.addEventListener("click",o),window.addEventListener("mouseup",o),window.addEventListener("mousecancel",o),e=setTimeout((()=>{window.removeEventListener("click",o),window.removeEventListener("mouseup",o),window.removeEventListener("mousecancel",o),0===i&&(i=2,n.longtabstart&&n.longtabstart.map((t=>{t()})),r=setInterval((()=>{n.longtabing&&n.longtabing.map((t=>{t()}))}),50),window.addEventListener("click",a),window.addEventListener("mouseup",a),window.addEventListener("mousecancel",a))}),500)})),{addEventListener:function(t,e){n[t]?n[t].push(e):n[t]=[e]}}}(t);n.addEventListener("longtabstart",(()=>{e?e=!1:r=!r})),n.addEventListener("longtabing",(()=>{this.rotateAngle+=r?3:-3}))},rotateImg_mobile(){let t,e,r=!1,n=null,i={x:null,y:null};const o=o=>{if(r)return;o=o||window.event;let a=[];[...this.wt.touchMap.values()].map((t=>{t.target===this.$refs.meImageCrop.querySelector(".me-image-crop-canvas")&&a.push(t)})),2===a.length&&!1===r&&(r=!0,n=this.rotateAngle,t=a[0].identifier,e=a[1].identifier,i.x=a[1].clientX-a[0].clientX,i.y=a[1].clientY-a[0].clientY)},a=o=>{if(!r)return;let a,s;o=o||window.event;for(let r=0;r<o.touches.length;r++)o.touches[r].identifier===t&&(a=o.touches[r]),o.touches[r].identifier===e&&(s=o.touches[r]);if(!a||!s)return;let c={x:null,y:null};c.x=s.clientX-a.clientX,c.y=s.clientY-a.clientY;let u=Math.acos((i.x*c.x+i.y*c.y)/(Math.sqrt(i.x*i.x+i.y*i.y)*Math.sqrt(c.x*c.x+c.y*c.y)));if(u=180/Math.PI*u,Number.isNaN(u))return;let l=i.x*c.y-i.y*c.x;this.rotateAngle=l>=0?n+u:n-u},s=o=>{if(!r)return;let a,s;o=o||window.event;for(let r=0;r<o.touches.length;r++)o.touches[r].identifier===t&&(a=o.touches[r]),o.touches[r].identifier===e&&(s=o.touches[r]);"touchcancel"!==o.type&&a&&s||(r=!1,i.x=null,i.y=null,t=null,e=null,n=null)};this.canvas.addEventListener("touchstart",o),this.canvas.addEventListener("touchmove",a),document.addEventListener("touchend",s),document.addEventListener("touchcancel",s),this._disposeRotate=()=>{this.canvas.removeEventListener("touchstart",o),this.canvas.removeEventListener("touchmove",a),document.removeEventListener("touchend",s),document.removeEventListener("touchcancel",s)}},cancelCrop(){this.$emit("cancel-crop-image")},confirmCrop(){if(this.waitingAni.start)return;this.startWaitingAni();let t={x:parseInt(this.canvasWidth/2-(this.cropFrameSize-2)/2)+.5,y:parseInt(this.canvasHeight/2-(this.cropFrameSize-2)/2)+.5},e=this.ctx.getImageData(t.x,t.y,this.cropFrameSize-2,this.cropFrameSize-2),r=document.createElement("canvas");r.width=this.cropFrameSize,r.height=this.cropFrameSize,r.getContext("2d").putImageData(e,0,0),"base64"===this.outType?(this.closeWaitingAni(),this.$emit("confirm-crop-image",r.toDataURL())):r.toBlob((t=>{this.closeWaitingAni(),this.$emit("confirm-crop-image",t)}),"image/jpg",1)},getImage(t){let e={x:parseInt(this.canvasWidth/2-(this.cropFrameSize-2)/2)+.5,y:parseInt(this.canvasHeight/2-(this.cropFrameSize-2)/2)+.5},r=this.ctx.getImageData(e.x,e.y,this.cropFrameSize-2,this.cropFrameSize-2),n=document.createElement("canvas");if(n.width=this.cropFrameSize,n.height=this.cropFrameSize,n.getContext("2d").putImageData(r,0,0),"base64"===this.outType)return this.closeWaitingAni(),n.toDataURL();this.closeWaitingAni(),n.toBlob(t,"image/jpg",1)},startWaitingAni(){this.waitingAni.start=!0,this.waitingAni.timer=setInterval((()=>{let t=this.waitingAni.colors[2];this.waitingAni.colors.splice(2,1),this.waitingAni.colors.unshift(t)}),250)},closeWaitingAni(){this.waitingAni.start=!1,clearInterval(this.waitingAni.timer)},draw(){if(!this.canvas||!this.img)return;this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.save(),this.position.x,this.imgNaturalWidth,this.scale,this.position.y,this.imgNaturalHeight,this.scale;let t=this.imgNaturalWidth*this.scale,e=this.imgNaturalHeight*this.scale;if(this.ctx.translate(this.position.x,this.position.y),this.ctx.rotate(this.rotateAngle*(Math.PI/180)),this.ctx.drawImage(this.img,-t/2,-e/2,t,e),this.ctx.restore(),this.drawCropFrame(),this.waitingAni.start)for(let t=0;t<this.waitingAni.colors.length;t++){let e,r;this.ctx.save(),this.ctx.fillStyle=this.waitingAni.colors[t],this.ctx.beginPath(),0===t?(e=this.canvasWidth/2-15,r=this.canvasHeight/2):1===t?(e=this.canvasWidth/2,r=this.canvasHeight/2):(e=this.canvasWidth/2+15,r=this.canvasHeight/2),this.ctx.arc(e,r,this.waitingAni.size,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.restore()}this.AnimationFrameId=window.requestAnimationFrame(this.draw)}},mounted(){},beforeDestroy(){this.wt.dispose(),window.removeEventListener("touchmove",this.forbidPageScale),window.cancelAnimationFrame(this.AnimationFrameId),this._disposeScale(),this._disposeTranslate(),!this.is_pc()&&this._disposeRotate(),this.closeWaitingAni()}},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"meImageCrop",staticClass:"me-image-crop"},[r("canvas",{staticClass:"me-image-crop-canvas"}),t._v(" "),r("div",{staticClass:"me-image-crop-btns",style:{top:t.buttonTop+"px",right:t.buttonRight+"px"}},[t.showBtn&&t.is_pc()?r("div",{staticClass:"me-image-crop-btn me-image-crop-btn-rotate"},[t._t("rotate",(function(){return[r("span",{staticClass:"me-icon me-icon-rotate2",style:{fontSize:t.buttonSize+"px",color:"#DAA520"},attrs:{alt:""}})]}))],2):t._e(),t._v(" "),t.showBtn?r("div",{staticClass:"me-image-crop-btn",on:{click:t.cancelCrop}},[t._t("cancel",(function(){return[r("span",{staticClass:"me-icon me-icon-cancel",style:{fontSize:t.buttonSize+"px",color:"#E56149"},attrs:{alt:""}})]}))],2):t._e(),t._v(" "),t.showBtn?r("div",{staticClass:"me-image-crop-btn",on:{click:t.confirmCrop}},[t._t("confirm",(function(){return[r("span",{staticClass:"me-icon me-icon-sure",style:{fontSize:t.buttonSize+"px",color:"#45C189"},attrs:{alt:""}})]}))],2):t._e()])])}),[],!1,null,null,null).exports];window.meSmartComponents=["meDragger","meImageCrop"];const o={install(t){i.forEach((e=>{t.component(e.name,e)}))}},a=20})(),module.exports=n})();